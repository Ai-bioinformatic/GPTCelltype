% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gptcelltype.R
\name{gptcelltype}
\alias{gptcelltype}
\title{Cell type annotation with OpenAI GPT models}
\usage{
gptcelltype(
  input,
  tissuename = NULL,
  openai_key,
  model = "gpt-4",
  topgenenumber = 10
)
}
\arguments{
\item{input}{Either the differential gene table returned by Seurat FindAllMarkers() function, or a list of genes.}

\item{tissuename}{Optional input of tissue name.}

\item{openai_key}{The OpenAI key obtained from https://platform.openai.com/account/api-keys The default is NA, which will resulting outputing the prompt itself. If an actual key is provided, then the output will be the celltype annotations from the GPT model specified by the user.}

\item{model}{A valid GPT-4 or GPT-3.5 model name list on https://platform.openai.com/docs/models. Default is 'gpt-4-32k'.}

\item{topgenenumber}{Number of top differential genes to be used if input is Seurat differential genes.}
}
\value{
A vector of cell types when the user provide openai_key or the prompt itself when openai_key = NA (default)
}
\description{
Cell type annotation with OpenAI GPT models
}
\details{
Annotate cell types by OpenAI GPT models in a Seurat pipeline or with a custom gene list. If used in a Seurat pipeline, Seurat FindAllMarkers() function needs to be run first and the differential gene table generated by Seurat will serve as the input. If the input is a custom list of genes, one cell type is identified for each element in the list.
}
\examples{
# Gene list as input, openai_key = NA (default)
prompt <- gptcelltype(input=list(gs1=c('CD4,CD3D'),gs2='CD14'),tissuename='human PBMC',openai_key=NA, model = 'gpt-4')
cat(prompt)
# Seurat object as input, openai_key = NA (default)
#You have to install Seurat package first to run this example
library(Seurat)
data("pbmc_small")
all.markers <- FindAllMarkers(object = pbmc_small)
prompt <- gptcelltype(all.markers, tissuename='human PBMC', openai_key=NA)
return(prompt)
}
\author{
Wenpin Hou <wh2526@cumc.columbia.edu>, Zhicheng Ji <zhicheng.ji@duke.edu>
}
